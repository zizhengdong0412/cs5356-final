"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@auth";
exports.ids = ["vendor-chunks/@auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/@auth/drizzle-adapter/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/drizzle-adapter/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrizzleAdapter: () => (/* binding */ DrizzleAdapter)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/entity.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/db.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/db.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/db.js\");\n/* harmony import */ var _lib_mysql_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/mysql.js */ \"(rsc)/./node_modules/@auth/drizzle-adapter/lib/mysql.js\");\n/* harmony import */ var _lib_pg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/pg.js */ \"(rsc)/./node_modules/@auth/drizzle-adapter/lib/pg.js\");\n/* harmony import */ var _lib_sqlite_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/sqlite.js */ \"(rsc)/./node_modules/@auth/drizzle-adapter/lib/sqlite.js\");\n/**\n * <div style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: 16}}>\n *  <p>Official <a href=\"https://orm.drizzle.team\">Drizzle ORM</a> adapter for Auth.js / NextAuth.js.</p>\n *  <a href=\"https://orm.drizzle.team\">\n *   <img style={{display: \"block\"}} src=\"/img/adapters/drizzle.svg\" width=\"38\" />\n *  </a>\n * </div>\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install drizzle-orm @auth/drizzle-adapter\n * npm install drizzle-kit --save-dev\n * ```\n *\n * @module @auth/drizzle-adapter\n */ \n\n\n\n\n\n\nfunction DrizzleAdapter(db, schema) {\n    if ((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.is)(db, drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__.MySqlDatabase)) {\n        return (0,_lib_mysql_js__WEBPACK_IMPORTED_MODULE_0__.MySqlDrizzleAdapter)(db, schema);\n    } else if ((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.is)(db, drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.PgDatabase)) {\n        return (0,_lib_pg_js__WEBPACK_IMPORTED_MODULE_1__.PostgresDrizzleAdapter)(db, schema);\n    } else if ((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.is)(db, drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_6__.BaseSQLiteDatabase)) {\n        return (0,_lib_sqlite_js__WEBPACK_IMPORTED_MODULE_2__.SQLiteDrizzleAdapter)(db, schema);\n    }\n    throw new Error(`Unsupported database type (${typeof db}) in Auth.js Drizzle adapter.`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FnQkMsR0FDZ0M7QUFDc0I7QUFDTjtBQUNZO0FBQ1I7QUFDQTtBQUNFO0FBQ2hELFNBQVNPLGVBQWVDLEVBQUUsRUFBRUMsTUFBTTtJQUNyQyxJQUFJVCwrQ0FBRUEsQ0FBQ1EsSUFBSVAsaUVBQWFBLEdBQUc7UUFDdkIsT0FBT0csa0VBQW1CQSxDQUFDSSxJQUFJQztJQUNuQyxPQUNLLElBQUlULCtDQUFFQSxDQUFDUSxJQUFJTiwyREFBVUEsR0FBRztRQUN6QixPQUFPRyxrRUFBc0JBLENBQUNHLElBQUlDO0lBQ3RDLE9BQ0ssSUFBSVQsK0NBQUVBLENBQUNRLElBQUlMLHVFQUFrQkEsR0FBRztRQUNqQyxPQUFPRyxvRUFBb0JBLENBQUNFLElBQUlDO0lBQ3BDO0lBQ0EsTUFBTSxJQUFJQyxNQUFNLENBQUMsMkJBQTJCLEVBQUUsT0FBT0YsR0FBRyw2QkFBNkIsQ0FBQztBQUMxRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY2lwZS1rZWVwZXIvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2luZGV4LmpzP2Y4MzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogXCJmbGV4XCIsIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgcGFkZGluZzogMTZ9fT5cbiAqICA8cD5PZmZpY2lhbCA8YSBocmVmPVwiaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtXCI+RHJpenpsZSBPUk08L2E+IGFkYXB0ZXIgZm9yIEF1dGguanMgLyBOZXh0QXV0aC5qcy48L3A+XG4gKiAgPGEgaHJlZj1cImh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbVwiPlxuICogICA8aW1nIHN0eWxlPXt7ZGlzcGxheTogXCJibG9ja1wifX0gc3JjPVwiL2ltZy9hZGFwdGVycy9kcml6emxlLnN2Z1wiIHdpZHRoPVwiMzhcIiAvPlxuICogIDwvYT5cbiAqIDwvZGl2PlxuICpcbiAqICMjIEluc3RhbGxhdGlvblxuICpcbiAqIGBgYGJhc2ggbnBtMnlhcm5cbiAqIG5wbSBpbnN0YWxsIGRyaXp6bGUtb3JtIEBhdXRoL2RyaXp6bGUtYWRhcHRlclxuICogbnBtIGluc3RhbGwgZHJpenpsZS1raXQgLS1zYXZlLWRldlxuICogYGBgXG4gKlxuICogQG1vZHVsZSBAYXV0aC9kcml6emxlLWFkYXB0ZXJcbiAqL1xuaW1wb3J0IHsgaXMgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcbmltcG9ydCB7IE15U3FsRGF0YWJhc2UgfSBmcm9tIFwiZHJpenpsZS1vcm0vbXlzcWwtY29yZVwiO1xuaW1wb3J0IHsgUGdEYXRhYmFzZSB9IGZyb20gXCJkcml6emxlLW9ybS9wZy1jb3JlXCI7XG5pbXBvcnQgeyBCYXNlU1FMaXRlRGF0YWJhc2UgfSBmcm9tIFwiZHJpenpsZS1vcm0vc3FsaXRlLWNvcmVcIjtcbmltcG9ydCB7IE15U3FsRHJpenpsZUFkYXB0ZXIgfSBmcm9tIFwiLi9saWIvbXlzcWwuanNcIjtcbmltcG9ydCB7IFBvc3RncmVzRHJpenpsZUFkYXB0ZXIgfSBmcm9tIFwiLi9saWIvcGcuanNcIjtcbmltcG9ydCB7IFNRTGl0ZURyaXp6bGVBZGFwdGVyIH0gZnJvbSBcIi4vbGliL3NxbGl0ZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIERyaXp6bGVBZGFwdGVyKGRiLCBzY2hlbWEpIHtcbiAgICBpZiAoaXMoZGIsIE15U3FsRGF0YWJhc2UpKSB7XG4gICAgICAgIHJldHVybiBNeVNxbERyaXp6bGVBZGFwdGVyKGRiLCBzY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcyhkYiwgUGdEYXRhYmFzZSkpIHtcbiAgICAgICAgcmV0dXJuIFBvc3RncmVzRHJpenpsZUFkYXB0ZXIoZGIsIHNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzKGRiLCBCYXNlU1FMaXRlRGF0YWJhc2UpKSB7XG4gICAgICAgIHJldHVybiBTUUxpdGVEcml6emxlQWRhcHRlcihkYiwgc2NoZW1hKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkYXRhYmFzZSB0eXBlICgke3R5cGVvZiBkYn0pIGluIEF1dGguanMgRHJpenpsZSBhZGFwdGVyLmApO1xufVxuIl0sIm5hbWVzIjpbImlzIiwiTXlTcWxEYXRhYmFzZSIsIlBnRGF0YWJhc2UiLCJCYXNlU1FMaXRlRGF0YWJhc2UiLCJNeVNxbERyaXp6bGVBZGFwdGVyIiwiUG9zdGdyZXNEcml6emxlQWRhcHRlciIsIlNRTGl0ZURyaXp6bGVBZGFwdGVyIiwiRHJpenpsZUFkYXB0ZXIiLCJkYiIsInNjaGVtYSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/drizzle-adapter/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/drizzle-adapter/lib/mysql.js":
/*!*********************************************************!*\
  !*** ./node_modules/@auth/drizzle-adapter/lib/mysql.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MySqlDrizzleAdapter: () => (/* binding */ MySqlDrizzleAdapter),\n/* harmony export */   defineTables: () => (/* binding */ defineTables)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/utils.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/table.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/columns/int.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/primary-keys.js\");\n/* harmony import */ var drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/mysql-core */ \"(rsc)/./node_modules/drizzle-orm/mysql-core/columns/boolean.js\");\n\n\nfunction defineTables(schema = {}) {\n    const usersTable = schema.usersTable ?? (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__.mysqlTable)(\"user\", {\n        id: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"id\", {\n            length: 255\n        }).primaryKey().$defaultFn(()=>crypto.randomUUID()),\n        name: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"name\", {\n            length: 255\n        }),\n        email: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"email\", {\n            length: 255\n        }).unique(),\n        emailVerified: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"emailVerified\", {\n            mode: \"date\",\n            fsp: 3\n        }),\n        image: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"image\", {\n            length: 255\n        })\n    });\n    const accountsTable = schema.accountsTable ?? (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__.mysqlTable)(\"account\", {\n        userId: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"userId\", {\n            length: 255\n        }).notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        type: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"type\", {\n            length: 255\n        }).$type().notNull(),\n        provider: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"provider\", {\n            length: 255\n        }).notNull(),\n        providerAccountId: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"providerAccountId\", {\n            length: 255\n        }).notNull(),\n        refresh_token: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"refresh_token\", {\n            length: 255\n        }),\n        access_token: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"access_token\", {\n            length: 255\n        }),\n        expires_at: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_3__.int)(\"expires_at\"),\n        token_type: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"token_type\", {\n            length: 255\n        }),\n        scope: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"scope\", {\n            length: 255\n        }),\n        id_token: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"id_token\", {\n            length: 2048\n        }),\n        session_state: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"session_state\", {\n            length: 255\n        })\n    }, (account)=>({\n            compositePk: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    account.provider,\n                    account.providerAccountId\n                ]\n            })\n        }));\n    const sessionsTable = schema.sessionsTable ?? (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__.mysqlTable)(\"session\", {\n        sessionToken: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"sessionToken\", {\n            length: 255\n        }).primaryKey(),\n        userId: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"userId\", {\n            length: 255\n        }).notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        expires: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"expires\", {\n            mode: \"date\"\n        }).notNull()\n    });\n    const verificationTokensTable = schema.verificationTokensTable ?? (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__.mysqlTable)(\"verificationToken\", {\n        identifier: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"identifier\", {\n            length: 255\n        }).notNull(),\n        token: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"token\", {\n            length: 255\n        }).notNull(),\n        expires: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"expires\", {\n            mode: \"date\"\n        }).notNull()\n    }, (verficationToken)=>({\n            compositePk: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    verficationToken.identifier,\n                    verficationToken.token\n                ]\n            })\n        }));\n    const authenticatorsTable = schema.authenticatorsTable ?? (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_0__.mysqlTable)(\"authenticator\", {\n        credentialID: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"credentialID\", {\n            length: 255\n        }).notNull().unique(),\n        userId: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"userId\", {\n            length: 255\n        }).notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        providerAccountId: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"providerAccountId\", {\n            length: 255\n        }).notNull(),\n        credentialPublicKey: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"credentialPublicKey\", {\n            length: 255\n        }).notNull(),\n        counter: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_3__.int)(\"counter\").notNull(),\n        credentialDeviceType: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"credentialDeviceType\", {\n            length: 255\n        }).notNull(),\n        credentialBackedUp: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"credentialBackedUp\").notNull(),\n        transports: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_1__.varchar)(\"transports\", {\n            length: 255\n        })\n    }, (authenticator)=>({\n            compositePk: (0,drizzle_orm_mysql_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    authenticator.userId,\n                    authenticator.credentialID\n                ]\n            })\n        }));\n    return {\n        usersTable,\n        accountsTable,\n        sessionsTable,\n        verificationTokensTable,\n        authenticatorsTable\n    };\n}\nfunction MySqlDrizzleAdapter(client, schema) {\n    const { usersTable, accountsTable, sessionsTable, verificationTokensTable, authenticatorsTable } = defineTables(schema);\n    return {\n        async createUser (data) {\n            const { id, ...insertData } = data;\n            const hasDefaultId = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.getTableColumns)(usersTable)[\"id\"][\"defaultFn\"];\n            const [insertedUser] = await client.insert(usersTable).values(hasDefaultId ? insertData : {\n                ...insertData,\n                id\n            }).$returningId();\n            return client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, insertedUser ? insertedUser.id : id)).then((res)=>res[0]);\n        },\n        async getUser (userId) {\n            return client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, userId)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async getUserByEmail (email) {\n            return client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.email, email)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async createSession (data) {\n            await client.insert(sessionsTable).values(data);\n            return client.select().from(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, data.sessionToken)).then((res)=>res[0]);\n        },\n        async getSessionAndUser (sessionToken) {\n            return client.select({\n                session: sessionsTable,\n                user: usersTable\n            }).from(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, sessionToken)).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, sessionsTable.userId)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async updateUser (data) {\n            if (!data.id) {\n                throw new Error(\"No user id.\");\n            }\n            await client.update(usersTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, data.id));\n            const [result] = await client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, data.id));\n            if (!result) {\n                throw new Error(\"No user found.\");\n            }\n            return result;\n        },\n        async updateSession (data) {\n            await client.update(sessionsTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, data.sessionToken));\n            return client.select().from(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, data.sessionToken)).then((res)=>res[0]);\n        },\n        async linkAccount (data) {\n            await client.insert(accountsTable).values(data);\n        },\n        async getUserByAccount (account) {\n            const result = await client.select({\n                account: accountsTable,\n                user: usersTable\n            }).from(accountsTable).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.userId, usersTable.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, account.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, account.providerAccountId))).then((res)=>res[0]);\n            const user = result?.user ?? null;\n            return user;\n        },\n        async deleteSession (sessionToken) {\n            await client.delete(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, sessionToken));\n        },\n        async createVerificationToken (data) {\n            await client.insert(verificationTokensTable).values(data);\n            return client.select().from(verificationTokensTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.identifier, data.identifier)).then((res)=>res[0]);\n        },\n        async useVerificationToken (params) {\n            const deletedToken = await client.select().from(verificationTokensTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.identifier, params.identifier), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.token, params.token))).then((res)=>res.length > 0 ? res[0] : null);\n            if (deletedToken) {\n                await client.delete(verificationTokensTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.identifier, params.identifier), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.token, params.token)));\n            }\n            return deletedToken;\n        },\n        async deleteUser (id) {\n            await client.delete(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, id));\n        },\n        async unlinkAccount (params) {\n            await client.delete(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, params.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, params.providerAccountId)));\n        },\n        async getAccount (providerAccountId, provider) {\n            return client.select().from(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, providerAccountId))).then((res)=>res[0] ?? null);\n        },\n        async createAuthenticator (data) {\n            await client.insert(authenticatorsTable).values(data);\n            return await client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, data.credentialID)).then((res)=>res[0] ?? null);\n        },\n        async getAuthenticator (credentialID) {\n            return await client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, credentialID)).then((res)=>res[0] ?? null);\n        },\n        async listAuthenticatorsByUserId (userId) {\n            return await client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.userId, userId)).then((res)=>res);\n        },\n        async updateAuthenticatorCounter (credentialID, newCounter) {\n            await client.update(authenticatorsTable).set({\n                counter: newCounter\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, credentialID));\n            const authenticator = await client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, credentialID)).then((res)=>res[0]);\n            if (!authenticator) throw new Error(\"Authenticator not found.\");\n            return authenticator;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2xpYi9teXNxbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQzRDO0FBQzVGLFNBQVNTLGFBQWFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BDLE1BQU1DLGFBQWFELE9BQU9DLFVBQVUsSUFDL0JOLGtFQUFVQSxDQUFDLFFBQVE7UUFDaEJPLElBQUlKLCtEQUFPQSxDQUFDLE1BQU07WUFBRUssUUFBUTtRQUFJLEdBQzNCUCxVQUFVLEdBQ1ZRLFVBQVUsQ0FBQyxJQUFNQyxPQUFPQyxVQUFVO1FBQ3ZDQyxNQUFNVCwrREFBT0EsQ0FBQyxRQUFRO1lBQUVLLFFBQVE7UUFBSTtRQUNwQ0ssT0FBT1YsK0RBQU9BLENBQUMsU0FBUztZQUFFSyxRQUFRO1FBQUksR0FBR00sTUFBTTtRQUMvQ0MsZUFBZWIsaUVBQVNBLENBQUMsaUJBQWlCO1lBQUVjLE1BQU07WUFBUUMsS0FBSztRQUFFO1FBQ2pFQyxPQUFPZiwrREFBT0EsQ0FBQyxTQUFTO1lBQUVLLFFBQVE7UUFBSTtJQUMxQztJQUNKLE1BQU1XLGdCQUFnQmQsT0FBT2MsYUFBYSxJQUNyQ25CLGtFQUFVQSxDQUFDLFdBQVc7UUFDbkJvQixRQUFRakIsK0RBQU9BLENBQUMsVUFBVTtZQUFFSyxRQUFRO1FBQUksR0FDbkNhLE9BQU8sR0FDUEMsVUFBVSxDQUFDLElBQU1oQixXQUFXQyxFQUFFLEVBQUU7WUFBRWdCLFVBQVU7UUFBVTtRQUMzREMsTUFBTXJCLCtEQUFPQSxDQUFDLFFBQVE7WUFBRUssUUFBUTtRQUFJLEdBQy9CaUIsS0FBSyxHQUNMSixPQUFPO1FBQ1pLLFVBQVV2QiwrREFBT0EsQ0FBQyxZQUFZO1lBQUVLLFFBQVE7UUFBSSxHQUFHYSxPQUFPO1FBQ3RETSxtQkFBbUJ4QiwrREFBT0EsQ0FBQyxxQkFBcUI7WUFDNUNLLFFBQVE7UUFDWixHQUFHYSxPQUFPO1FBQ1ZPLGVBQWV6QiwrREFBT0EsQ0FBQyxpQkFBaUI7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LENBQUNuQixxQkFDTG9CLEtBQUssQ0FBQ3JFLCtDQUFFQSxDQUFDaUQsb0JBQW9CekIsTUFBTSxFQUFFQSxTQUNyQzhDLElBQUksQ0FBQyxDQUFDQyxNQUFRQTtRQUN2QjtRQUNBLE1BQU00Qiw0QkFBMkJqRCxZQUFZLEVBQUVrRCxVQUFVO1lBQ3JELE1BQU0xQyxPQUNEdUIsTUFBTSxDQUFDaEMscUJBQ1BpQyxHQUFHLENBQUM7Z0JBQUU5QixTQUFTZ0Q7WUFBVyxHQUMxQi9CLEtBQUssQ0FBQ3JFLCtDQUFFQSxDQUFDaUQsb0JBQW9CQyxZQUFZLEVBQUVBO1lBQ2hELE1BQU1NLGdCQUFnQixNQUFNRSxPQUN2QlMsTUFBTSxHQUNOQyxJQUFJLENBQUNuQixxQkFDTG9CLEtBQUssQ0FBQ3JFLCtDQUFFQSxDQUFDaUQsb0JBQW9CQyxZQUFZLEVBQUVBLGVBQzNDb0IsSUFBSSxDQUFDLENBQUNDLE1BQVFBLEdBQUcsQ0FBQyxFQUFFO1lBQ3pCLElBQUksQ0FBQ2YsZUFDRCxNQUFNLElBQUl3QixNQUFNO1lBQ3BCLE9BQU94QjtRQUNYO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY2lwZS1rZWVwZXIvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2xpYi9teXNxbC5qcz8wYzEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuZCwgZXEsIGdldFRhYmxlQ29sdW1ucyB9IGZyb20gXCJkcml6emxlLW9ybVwiO1xuaW1wb3J0IHsgYm9vbGVhbiwgaW50LCBteXNxbFRhYmxlLCBwcmltYXJ5S2V5LCB0aW1lc3RhbXAsIHZhcmNoYXIsIH0gZnJvbSBcImRyaXp6bGUtb3JtL215c3FsLWNvcmVcIjtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVUYWJsZXMoc2NoZW1hID0ge30pIHtcbiAgICBjb25zdCB1c2Vyc1RhYmxlID0gc2NoZW1hLnVzZXJzVGFibGUgPz9cbiAgICAgICAgKG15c3FsVGFibGUoXCJ1c2VyXCIsIHtcbiAgICAgICAgICAgIGlkOiB2YXJjaGFyKFwiaWRcIiwgeyBsZW5ndGg6IDI1NSB9KVxuICAgICAgICAgICAgICAgIC5wcmltYXJ5S2V5KClcbiAgICAgICAgICAgICAgICAuJGRlZmF1bHRGbigoKSA9PiBjcnlwdG8ucmFuZG9tVVVJRCgpKSxcbiAgICAgICAgICAgIG5hbWU6IHZhcmNoYXIoXCJuYW1lXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gICAgICAgICAgICBlbWFpbDogdmFyY2hhcihcImVtYWlsXCIsIHsgbGVuZ3RoOiAyNTUgfSkudW5pcXVlKCksXG4gICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiB0aW1lc3RhbXAoXCJlbWFpbFZlcmlmaWVkXCIsIHsgbW9kZTogXCJkYXRlXCIsIGZzcDogMyB9KSxcbiAgICAgICAgICAgIGltYWdlOiB2YXJjaGFyKFwiaW1hZ2VcIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IGFjY291bnRzVGFibGUgPSBzY2hlbWEuYWNjb3VudHNUYWJsZSA/P1xuICAgICAgICAobXlzcWxUYWJsZShcImFjY291bnRcIiwge1xuICAgICAgICAgICAgdXNlcklkOiB2YXJjaGFyKFwidXNlcklkXCIsIHsgbGVuZ3RoOiAyNTUgfSlcbiAgICAgICAgICAgICAgICAubm90TnVsbCgpXG4gICAgICAgICAgICAgICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnNUYWJsZS5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gICAgICAgICAgICB0eXBlOiB2YXJjaGFyKFwidHlwZVwiLCB7IGxlbmd0aDogMjU1IH0pXG4gICAgICAgICAgICAgICAgLiR0eXBlKClcbiAgICAgICAgICAgICAgICAubm90TnVsbCgpLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHZhcmNoYXIoXCJwcm92aWRlclwiLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiB2YXJjaGFyKFwicHJvdmlkZXJBY2NvdW50SWRcIiwge1xuICAgICAgICAgICAgICAgIGxlbmd0aDogMjU1LFxuICAgICAgICAgICAgfSkubm90TnVsbCgpLFxuICAgICAgICAgICAgcmVmcmVzaF90b2tlbjogdmFyY2hhcihcInJlZnJlc2hfdG9rZW5cIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgICAgICAgICAgIGFjY2Vzc190b2tlbjogdmFyY2hhcihcImFjY2Vzc190b2tlblwiLCB7IGxlbmd0aDogMjU1IH0pLFxuICAgICAgICAgICAgZXhwaXJlc19hdDogaW50KFwiZXhwaXJlc19hdFwiKSxcbiAgICAgICAgICAgIHRva2VuX3R5cGU6IHZhcmNoYXIoXCJ0b2tlbl90eXBlXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gICAgICAgICAgICBzY29wZTogdmFyY2hhcihcInNjb3BlXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gICAgICAgICAgICBpZF90b2tlbjogdmFyY2hhcihcImlkX3Rva2VuXCIsIHsgbGVuZ3RoOiAyMDQ4IH0pLFxuICAgICAgICAgICAgc2Vzc2lvbl9zdGF0ZTogdmFyY2hhcihcInNlc3Npb25fc3RhdGVcIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgICAgICAgfSwgKGFjY291bnQpID0+ICh7XG4gICAgICAgICAgICBjb21wb3NpdGVQazogcHJpbWFyeUtleSh7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW2FjY291bnQucHJvdmlkZXIsIGFjY291bnQucHJvdmlkZXJBY2NvdW50SWRdLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pKSk7XG4gICAgY29uc3Qgc2Vzc2lvbnNUYWJsZSA9IHNjaGVtYS5zZXNzaW9uc1RhYmxlID8/XG4gICAgICAgIChteXNxbFRhYmxlKFwic2Vzc2lvblwiLCB7XG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IHZhcmNoYXIoXCJzZXNzaW9uVG9rZW5cIiwgeyBsZW5ndGg6IDI1NSB9KS5wcmltYXJ5S2V5KCksXG4gICAgICAgICAgICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VySWRcIiwgeyBsZW5ndGg6IDI1NSB9KVxuICAgICAgICAgICAgICAgIC5ub3ROdWxsKClcbiAgICAgICAgICAgICAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vyc1RhYmxlLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgICAgICAgICAgIGV4cGlyZXM6IHRpbWVzdGFtcChcImV4cGlyZXNcIiwgeyBtb2RlOiBcImRhdGVcIiB9KS5ub3ROdWxsKCksXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSA9IHNjaGVtYS52ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSA/P1xuICAgICAgICAobXlzcWxUYWJsZShcInZlcmlmaWNhdGlvblRva2VuXCIsIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IHZhcmNoYXIoXCJpZGVudGlmaWVyXCIsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxuICAgICAgICAgICAgdG9rZW46IHZhcmNoYXIoXCJ0b2tlblwiLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGV4cGlyZXM6IHRpbWVzdGFtcChcImV4cGlyZXNcIiwgeyBtb2RlOiBcImRhdGVcIiB9KS5ub3ROdWxsKCksXG4gICAgICAgIH0sICh2ZXJmaWNhdGlvblRva2VuKSA9PiAoe1xuICAgICAgICAgICAgY29tcG9zaXRlUGs6IHByaW1hcnlLZXkoe1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt2ZXJmaWNhdGlvblRva2VuLmlkZW50aWZpZXIsIHZlcmZpY2F0aW9uVG9rZW4udG9rZW5dLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pKSk7XG4gICAgY29uc3QgYXV0aGVudGljYXRvcnNUYWJsZSA9IHNjaGVtYS5hdXRoZW50aWNhdG9yc1RhYmxlID8/XG4gICAgICAgIChteXNxbFRhYmxlKFwiYXV0aGVudGljYXRvclwiLCB7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQ6IHZhcmNoYXIoXCJjcmVkZW50aWFsSURcIiwgeyBsZW5ndGg6IDI1NSB9KVxuICAgICAgICAgICAgICAgIC5ub3ROdWxsKClcbiAgICAgICAgICAgICAgICAudW5pcXVlKCksXG4gICAgICAgICAgICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VySWRcIiwgeyBsZW5ndGg6IDI1NSB9KVxuICAgICAgICAgICAgICAgIC5ub3ROdWxsKClcbiAgICAgICAgICAgICAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vyc1RhYmxlLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiB2YXJjaGFyKFwicHJvdmlkZXJBY2NvdW50SWRcIiwge1xuICAgICAgICAgICAgICAgIGxlbmd0aDogMjU1LFxuICAgICAgICAgICAgfSkubm90TnVsbCgpLFxuICAgICAgICAgICAgY3JlZGVudGlhbFB1YmxpY0tleTogdmFyY2hhcihcImNyZWRlbnRpYWxQdWJsaWNLZXlcIiwge1xuICAgICAgICAgICAgICAgIGxlbmd0aDogMjU1LFxuICAgICAgICAgICAgfSkubm90TnVsbCgpLFxuICAgICAgICAgICAgY291bnRlcjogaW50KFwiY291bnRlclwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICBjcmVkZW50aWFsRGV2aWNlVHlwZTogdmFyY2hhcihcImNyZWRlbnRpYWxEZXZpY2VUeXBlXCIsIHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IDI1NSxcbiAgICAgICAgICAgIH0pLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxCYWNrZWRVcDogYm9vbGVhbihcImNyZWRlbnRpYWxCYWNrZWRVcFwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICB0cmFuc3BvcnRzOiB2YXJjaGFyKFwidHJhbnNwb3J0c1wiLCB7IGxlbmd0aDogMjU1IH0pLFxuICAgICAgICB9LCAoYXV0aGVudGljYXRvcikgPT4gKHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZVBrOiBwcmltYXJ5S2V5KHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbYXV0aGVudGljYXRvci51c2VySWQsIGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbElEXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJzVGFibGUsXG4gICAgICAgIGFjY291bnRzVGFibGUsXG4gICAgICAgIHNlc3Npb25zVGFibGUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLFxuICAgICAgICBhdXRoZW50aWNhdG9yc1RhYmxlLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gTXlTcWxEcml6emxlQWRhcHRlcihjbGllbnQsIHNjaGVtYSkge1xuICAgIGNvbnN0IHsgdXNlcnNUYWJsZSwgYWNjb3VudHNUYWJsZSwgc2Vzc2lvbnNUYWJsZSwgdmVyaWZpY2F0aW9uVG9rZW5zVGFibGUsIGF1dGhlbnRpY2F0b3JzVGFibGUsIH0gPSBkZWZpbmVUYWJsZXMoc2NoZW1hKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3luYyBjcmVhdGVVc2VyKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIC4uLmluc2VydERhdGEgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBoYXNEZWZhdWx0SWQgPSBnZXRUYWJsZUNvbHVtbnModXNlcnNUYWJsZSlbXCJpZFwiXVtcImRlZmF1bHRGblwiXTtcbiAgICAgICAgICAgIGNvbnN0IFtpbnNlcnRlZFVzZXJdID0gKGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5pbnNlcnQodXNlcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAudmFsdWVzKGhhc0RlZmF1bHRJZCA/IGluc2VydERhdGEgOiB7IC4uLmluc2VydERhdGEsIGlkIH0pXG4gICAgICAgICAgICAgICAgLiRyZXR1cm5pbmdJZCgpKTtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbSh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcSh1c2Vyc1RhYmxlLmlkLCBpbnNlcnRlZFVzZXIgPyBpbnNlcnRlZFVzZXIuaWQgOiBpZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlcih1c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbSh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcSh1c2Vyc1RhYmxlLmlkLCB1c2VySWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5sZW5ndGggPiAwID8gcmVzWzBdIDogbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20odXNlcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEodXNlcnNUYWJsZS5lbWFpbCwgZW1haWwpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5sZW5ndGggPiAwID8gcmVzWzBdIDogbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YSkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50Lmluc2VydChzZXNzaW9uc1RhYmxlKS52YWx1ZXMoZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oc2Vzc2lvbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoc2Vzc2lvbnNUYWJsZS5zZXNzaW9uVG9rZW4sIGRhdGEuc2Vzc2lvblRva2VuKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uc1RhYmxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJzVGFibGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKHNlc3Npb25zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBzZXNzaW9uVG9rZW4pKVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4odXNlcnNUYWJsZSwgZXEodXNlcnNUYWJsZS5pZCwgc2Vzc2lvbnNUYWJsZS51c2VySWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IChyZXMubGVuZ3RoID4gMCA/IHJlc1swXSA6IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXBkYXRlVXNlcihkYXRhKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC51cGRhdGUodXNlcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAuc2V0KGRhdGEpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHVzZXJzVGFibGUuaWQsIGRhdGEuaWQpKTtcbiAgICAgICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20odXNlcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEodXNlcnNUYWJsZS5pZCwgZGF0YS5pZCkpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGZvdW5kLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZVNlc3Npb24oZGF0YSkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZShzZXNzaW9uc1RhYmxlKVxuICAgICAgICAgICAgICAgIC5zZXQoZGF0YSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoc2Vzc2lvbnNUYWJsZS5zZXNzaW9uVG9rZW4sIGRhdGEuc2Vzc2lvblRva2VuKSk7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oc2Vzc2lvbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoc2Vzc2lvbnNUYWJsZS5zZXNzaW9uVG9rZW4sIGRhdGEuc2Vzc2lvblRva2VuKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBsaW5rQWNjb3VudChkYXRhKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuaW5zZXJ0KGFjY291bnRzVGFibGUpLnZhbHVlcyhkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlckJ5QWNjb3VudChhY2NvdW50KSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50c1RhYmxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJzVGFibGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKGFjY291bnRzVGFibGUpXG4gICAgICAgICAgICAgICAgLmlubmVySm9pbih1c2Vyc1RhYmxlLCBlcShhY2NvdW50c1RhYmxlLnVzZXJJZCwgdXNlcnNUYWJsZS5pZCkpXG4gICAgICAgICAgICAgICAgLndoZXJlKGFuZChlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyLCBhY2NvdW50LnByb3ZpZGVyKSwgZXEoYWNjb3VudHNUYWJsZS5wcm92aWRlckFjY291bnRJZCwgYWNjb3VudC5wcm92aWRlckFjY291bnRJZCkpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlc1swXSk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0Py51c2VyID8/IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5kZWxldGUoc2Vzc2lvbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoc2Vzc2lvbnNUYWJsZS5zZXNzaW9uVG9rZW4sIHNlc3Npb25Ub2tlbikpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjcmVhdGVWZXJpZmljYXRpb25Ub2tlbihkYXRhKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuaW5zZXJ0KHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlKS52YWx1ZXMoZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20odmVyaWZpY2F0aW9uVG9rZW5zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLmlkZW50aWZpZXIsIGRhdGEuaWRlbnRpZmllcikpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXNlVmVyaWZpY2F0aW9uVG9rZW4ocGFyYW1zKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVkVG9rZW4gPSBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbSh2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoYW5kKGVxKHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLmlkZW50aWZpZXIsIHBhcmFtcy5pZGVudGlmaWVyKSwgZXEodmVyaWZpY2F0aW9uVG9rZW5zVGFibGUudG9rZW4sIHBhcmFtcy50b2tlbikpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IChyZXMubGVuZ3RoID4gMCA/IHJlc1swXSA6IG51bGwpKTtcbiAgICAgICAgICAgIGlmIChkZWxldGVkVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgLmRlbGV0ZSh2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgLndoZXJlKGFuZChlcSh2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZS5pZGVudGlmaWVyLCBwYXJhbXMuaWRlbnRpZmllciksIGVxKHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLnRva2VuLCBwYXJhbXMudG9rZW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVsZXRlZFRva2VuO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBkZWxldGVVc2VyKGlkKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuZGVsZXRlKHVzZXJzVGFibGUpLndoZXJlKGVxKHVzZXJzVGFibGUuaWQsIGlkKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVubGlua0FjY291bnQocGFyYW1zKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuZGVsZXRlKGFjY291bnRzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGFuZChlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyLCBwYXJhbXMucHJvdmlkZXIpLCBlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyQWNjb3VudElkLCBwYXJhbXMucHJvdmlkZXJBY2NvdW50SWQpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldEFjY291bnQocHJvdmlkZXJBY2NvdW50SWQsIHByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYWNjb3VudHNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoYW5kKGVxKGFjY291bnRzVGFibGUucHJvdmlkZXIsIHByb3ZpZGVyKSwgZXEoYWNjb3VudHNUYWJsZS5wcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXJBY2NvdW50SWQpKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0gPz8gbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZUF1dGhlbnRpY2F0b3IoZGF0YSkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50Lmluc2VydChhdXRoZW50aWNhdG9yc1RhYmxlKS52YWx1ZXMoZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgICAgIC5mcm9tKGF1dGhlbnRpY2F0b3JzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKGF1dGhlbnRpY2F0b3JzVGFibGUuY3JlZGVudGlhbElELCBkYXRhLmNyZWRlbnRpYWxJRCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdID8/IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0QXV0aGVudGljYXRvcihjcmVkZW50aWFsSUQpIHtcbiAgICAgICAgICAgIHJldHVybiAoYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoYXV0aGVudGljYXRvcnNUYWJsZS5jcmVkZW50aWFsSUQsIGNyZWRlbnRpYWxJRCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdID8/IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgbGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQodXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gKGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgICAgIC5mcm9tKGF1dGhlbnRpY2F0b3JzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKGF1dGhlbnRpY2F0b3JzVGFibGUudXNlcklkLCB1c2VySWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcykpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlcihjcmVkZW50aWFsSUQsIG5ld0NvdW50ZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC51cGRhdGUoYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAuc2V0KHsgY291bnRlcjogbmV3Q291bnRlciB9KVxuICAgICAgICAgICAgICAgIC53aGVyZShlcShhdXRoZW50aWNhdG9yc1RhYmxlLmNyZWRlbnRpYWxJRCwgY3JlZGVudGlhbElEKSk7XG4gICAgICAgICAgICBjb25zdCBhdXRoZW50aWNhdG9yID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoYXV0aGVudGljYXRvcnNUYWJsZS5jcmVkZW50aWFsSUQsIGNyZWRlbnRpYWxJRCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdKTtcbiAgICAgICAgICAgIGlmICghYXV0aGVudGljYXRvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXRoZW50aWNhdG9yIG5vdCBmb3VuZC5cIik7XG4gICAgICAgICAgICByZXR1cm4gYXV0aGVudGljYXRvcjtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbImFuZCIsImVxIiwiZ2V0VGFibGVDb2x1bW5zIiwiYm9vbGVhbiIsImludCIsIm15c3FsVGFibGUiLCJwcmltYXJ5S2V5IiwidGltZXN0YW1wIiwidmFyY2hhciIsImRlZmluZVRhYmxlcyIsInNjaGVtYSIsInVzZXJzVGFibGUiLCJpZCIsImxlbmd0aCIsIiRkZWZhdWx0Rm4iLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwibmFtZSIsImVtYWlsIiwidW5pcXVlIiwiZW1haWxWZXJpZmllZCIsIm1vZGUiLCJmc3AiLCJpbWFnZSIsImFjY291bnRzVGFibGUiLCJ1c2VySWQiLCJub3ROdWxsIiwicmVmZXJlbmNlcyIsIm9uRGVsZXRlIiwidHlwZSIsIiR0eXBlIiwicHJvdmlkZXIiLCJwcm92aWRlckFjY291bnRJZCIsInJlZnJlc2hfdG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJleHBpcmVzX2F0IiwidG9rZW5fdHlwZSIsInNjb3BlIiwiaWRfdG9rZW4iLCJzZXNzaW9uX3N0YXRlIiwiYWNjb3VudCIsImNvbXBvc2l0ZVBrIiwiY29sdW1ucyIsInNlc3Npb25zVGFibGUiLCJzZXNzaW9uVG9rZW4iLCJleHBpcmVzIiwidmVyaWZpY2F0aW9uVG9rZW5zVGFibGUiLCJpZGVudGlmaWVyIiwidG9rZW4iLCJ2ZXJmaWNhdGlvblRva2VuIiwiYXV0aGVudGljYXRvcnNUYWJsZSIsImNyZWRlbnRpYWxJRCIsImNyZWRlbnRpYWxQdWJsaWNLZXkiLCJjb3VudGVyIiwiY3JlZGVudGlhbERldmljZVR5cGUiLCJjcmVkZW50aWFsQmFja2VkVXAiLCJ0cmFuc3BvcnRzIiwiYXV0aGVudGljYXRvciIsIk15U3FsRHJpenpsZUFkYXB0ZXIiLCJjbGllbnQiLCJjcmVhdGVVc2VyIiwiZGF0YSIsImluc2VydERhdGEiLCJoYXNEZWZhdWx0SWQiLCJpbnNlcnRlZFVzZXIiLCJpbnNlcnQiLCJ2YWx1ZXMiLCIkcmV0dXJuaW5nSWQiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJ0aGVuIiwicmVzIiwiZ2V0VXNlciIsImdldFVzZXJCeUVtYWlsIiwiY3JlYXRlU2Vzc2lvbiIsImdldFNlc3Npb25BbmRVc2VyIiwic2Vzc2lvbiIsInVzZXIiLCJpbm5lckpvaW4iLCJ1cGRhdGVVc2VyIiwiRXJyb3IiLCJ1cGRhdGUiLCJzZXQiLCJyZXN1bHQiLCJ1cGRhdGVTZXNzaW9uIiwibGlua0FjY291bnQiLCJnZXRVc2VyQnlBY2NvdW50IiwiZGVsZXRlU2Vzc2lvbiIsImRlbGV0ZSIsImNyZWF0ZVZlcmlmaWNhdGlvblRva2VuIiwidXNlVmVyaWZpY2F0aW9uVG9rZW4iLCJwYXJhbXMiLCJkZWxldGVkVG9rZW4iLCJkZWxldGVVc2VyIiwidW5saW5rQWNjb3VudCIsImdldEFjY291bnQiLCJjcmVhdGVBdXRoZW50aWNhdG9yIiwiZ2V0QXV0aGVudGljYXRvciIsImxpc3RBdXRoZW50aWNhdG9yc0J5VXNlcklkIiwidXBkYXRlQXV0aGVudGljYXRvckNvdW50ZXIiLCJuZXdDb3VudGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/drizzle-adapter/lib/mysql.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/drizzle-adapter/lib/pg.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/drizzle-adapter/lib/pg.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostgresDrizzleAdapter: () => (/* binding */ PostgresDrizzleAdapter),\n/* harmony export */   defineTables: () => (/* binding */ defineTables)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/utils.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/primary-keys.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n\n\nfunction defineTables(schema = {}) {\n    const usersTable = schema.usersTable ?? (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"user\", {\n        id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").primaryKey().$defaultFn(()=>crypto.randomUUID()),\n        name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"name\"),\n        email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"email\").unique(),\n        emailVerified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"emailVerified\", {\n            mode: \"date\"\n        }),\n        image: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"image\")\n    });\n    const accountsTable = schema.accountsTable ?? (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"account\", {\n        userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"type\").$type().notNull(),\n        provider: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"provider\").notNull(),\n        providerAccountId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"providerAccountId\").notNull(),\n        refresh_token: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"refresh_token\"),\n        access_token: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"access_token\"),\n        expires_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)(\"expires_at\"),\n        token_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"token_type\"),\n        scope: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"scope\"),\n        id_token: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id_token\"),\n        session_state: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"session_state\")\n    }, (account)=>({\n            compositePk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    account.provider,\n                    account.providerAccountId\n                ]\n            })\n        }));\n    const sessionsTable = schema.sessionsTable ?? (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"session\", {\n        sessionToken: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"sessionToken\").primaryKey(),\n        userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        expires: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"expires\", {\n            mode: \"date\"\n        }).notNull()\n    });\n    const verificationTokensTable = schema.verificationTokensTable ?? (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"verificationToken\", {\n        identifier: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"identifier\").notNull(),\n        token: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"token\").notNull(),\n        expires: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.timestamp)(\"expires\", {\n            mode: \"date\"\n        }).notNull()\n    }, (verificationToken)=>({\n            compositePk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    verificationToken.identifier,\n                    verificationToken.token\n                ]\n            })\n        }));\n    const authenticatorsTable = schema.authenticatorsTable ?? (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"authenticator\", {\n        credentialID: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialID\").notNull().unique(),\n        userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        providerAccountId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"providerAccountId\").notNull(),\n        credentialPublicKey: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialPublicKey\").notNull(),\n        counter: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)(\"counter\").notNull(),\n        credentialDeviceType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialDeviceType\").notNull(),\n        credentialBackedUp: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"credentialBackedUp\").notNull(),\n        transports: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"transports\")\n    }, (authenticator)=>({\n            compositePK: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.primaryKey)({\n                columns: [\n                    authenticator.userId,\n                    authenticator.credentialID\n                ]\n            })\n        }));\n    return {\n        usersTable,\n        accountsTable,\n        sessionsTable,\n        verificationTokensTable,\n        authenticatorsTable\n    };\n}\nfunction PostgresDrizzleAdapter(client, schema) {\n    const { usersTable, accountsTable, sessionsTable, verificationTokensTable, authenticatorsTable } = defineTables(schema);\n    return {\n        async createUser (data) {\n            const { id, ...insertData } = data;\n            const hasDefaultId = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.getTableColumns)(usersTable)[\"id\"][\"hasDefault\"];\n            return client.insert(usersTable).values(hasDefaultId ? insertData : {\n                ...insertData,\n                id\n            }).returning().then((res)=>res[0]);\n        },\n        async getUser (userId) {\n            return client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, userId)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async getUserByEmail (email) {\n            return client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.email, email)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async createSession (data) {\n            return client.insert(sessionsTable).values(data).returning().then((res)=>res[0]);\n        },\n        async getSessionAndUser (sessionToken) {\n            return client.select({\n                session: sessionsTable,\n                user: usersTable\n            }).from(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, sessionToken)).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, sessionsTable.userId)).then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async updateUser (data) {\n            if (!data.id) {\n                throw new Error(\"No user id.\");\n            }\n            const [result] = await client.update(usersTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, data.id)).returning();\n            if (!result) {\n                throw new Error(\"No user found.\");\n            }\n            return result;\n        },\n        async updateSession (data) {\n            return client.update(sessionsTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, data.sessionToken)).returning().then((res)=>res[0]);\n        },\n        async linkAccount (data) {\n            await client.insert(accountsTable).values(data);\n        },\n        async getUserByAccount (account) {\n            const result = await client.select({\n                account: accountsTable,\n                user: usersTable\n            }).from(accountsTable).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.userId, usersTable.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, account.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, account.providerAccountId))).then((res)=>res[0]);\n            const user = result?.user ?? null;\n            return user;\n        },\n        async deleteSession (sessionToken) {\n            await client.delete(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(sessionsTable.sessionToken, sessionToken));\n        },\n        async createVerificationToken (data) {\n            return client.insert(verificationTokensTable).values(data).returning().then((res)=>res[0]);\n        },\n        async useVerificationToken (params) {\n            return client.delete(verificationTokensTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.identifier, params.identifier), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(verificationTokensTable.token, params.token))).returning().then((res)=>res.length > 0 ? res[0] : null);\n        },\n        async deleteUser (id) {\n            await client.delete(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(usersTable.id, id));\n        },\n        async unlinkAccount (params) {\n            await client.delete(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, params.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, params.providerAccountId)));\n        },\n        async getAccount (providerAccountId, provider) {\n            return client.select().from(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.provider, provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(accountsTable.providerAccountId, providerAccountId))).then((res)=>res[0] ?? null);\n        },\n        async createAuthenticator (data) {\n            return client.insert(authenticatorsTable).values(data).returning().then((res)=>res[0] ?? null);\n        },\n        async getAuthenticator (credentialID) {\n            return client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, credentialID)).then((res)=>res[0] ?? null);\n        },\n        async listAuthenticatorsByUserId (userId) {\n            return client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.userId, userId)).then((res)=>res);\n        },\n        async updateAuthenticatorCounter (credentialID, newCounter) {\n            const authenticator = await client.update(authenticatorsTable).set({\n                counter: newCounter\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(authenticatorsTable.credentialID, credentialID)).returning().then((res)=>res[0]);\n            if (!authenticator) throw new Error(\"Authenticator not found.\");\n            return authenticator;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2xpYi9wZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ3VDO0FBQ3ZGLFNBQVNTLGFBQWFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BDLE1BQU1DLGFBQWFELE9BQU9DLFVBQVUsSUFDL0JOLDREQUFPQSxDQUFDLFFBQVE7UUFDYk8sSUFBSUwseURBQUlBLENBQUMsTUFDSkQsVUFBVSxHQUNWTyxVQUFVLENBQUMsSUFBTUMsT0FBT0MsVUFBVTtRQUN2Q0MsTUFBTVQseURBQUlBLENBQUM7UUFDWFUsT0FBT1YseURBQUlBLENBQUMsU0FBU1csTUFBTTtRQUMzQkMsZUFBZVgsOERBQVNBLENBQUMsaUJBQWlCO1lBQUVZLE1BQU07UUFBTztRQUN6REMsT0FBT2QseURBQUlBLENBQUM7SUFDaEI7SUFDSixNQUFNZSxnQkFBZ0JaLE9BQU9ZLGFBQWEsSUFDckNqQiw0REFBT0EsQ0FBQyxXQUFXO1FBQ2hCa0IsUUFBUWhCLHlEQUFJQSxDQUFDLFVBQ1JpQixPQUFPLEdBQ1BDLFVBQVUsQ0FBQyxJQUFNZCxXQUFXQyxFQUFFLEVBQUU7WUFBRWMsVUFBVTtRQUFVO1FBQzNEQyxNQUFNcEIseURBQUlBLENBQUMsUUFBUXFCLEtBQUssR0FBR0osT0FBTztRQUNsQ0ssVUFBVXRCLHlEQUFJQSxDQUFDLFlBQVlpQixPQUFPO1FBQ2xDTSxtQkFBbUJ2Qix5REFBSUEsQ0FBQyxxQkFBcUJpQixPQUFPO1FBQ3BETyxlQUFleEIseURBQUlBLENBQUM7UUFDcEJ5QixjQUFjekIseURBQUlBLENBQUM7UUFDbkIwQixZQUFZN0IsNERBQU9BLENBQUM7UUFDcEI4QixZQUFZM0IseURBQUlBLENBQUM7UUFDakI0QixPQUFPNUIseURBQUlBLENBQUM7UUFDWjZCLFVBQVU3Qix5REFBSUEsQ0FBQztRQUNmOEIsZUFBZTlCLHlEQUFJQSxDQUFDO0lBQ3hCLEdBQUcsQ0FBQytCLFVBQWE7WUFDYkMsYUFB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Q3BGb0MsSUFBSSxDQUFDLENBQUNDLE1BQVFBLEdBQUcsQ0FBQyxFQUFFLElBQUk7UUFDakM7UUFDQSxNQUFNNEIscUJBQW9CbkMsSUFBSTtZQUMxQixPQUFPRixPQUNGSyxNQUFNLENBQUNmLHFCQUNQZ0IsTUFBTSxDQUFDSixNQUNQSyxTQUFTLEdBQ1RDLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxHQUFHLENBQUMsRUFBRSxJQUFJO1FBQ2pDO1FBQ0EsTUFBTTZCLGtCQUFpQi9DLFlBQVk7WUFDL0IsT0FBT1MsT0FDRlcsTUFBTSxHQUNOQyxJQUFJLENBQUN0QixxQkFDTHVCLEtBQUssQ0FBQ3RFLCtDQUFFQSxDQUFDK0Msb0JBQW9CQyxZQUFZLEVBQUVBLGVBQzNDaUIsSUFBSSxDQUFDLENBQUNDLE1BQVFBLEdBQUcsQ0FBQyxFQUFFLElBQUk7UUFDakM7UUFDQSxNQUFNOEIsNEJBQTJCMUUsTUFBTTtZQUNuQyxPQUFPbUMsT0FDRlcsTUFBTSxHQUNOQyxJQUFJLENBQUN0QixxQkFDTHVCLEtBQUssQ0FBQ3RFLCtDQUFFQSxDQUFDK0Msb0JBQW9CekIsTUFBTSxFQUFFQSxTQUNyQzJDLElBQUksQ0FBQyxDQUFDQyxNQUFRQTtRQUN2QjtRQUNBLE1BQU0rQiw0QkFBMkJqRCxZQUFZLEVBQUVrRCxVQUFVO1lBQ3JELE1BQU01QyxnQkFBZ0IsTUFBTUcsT0FDdkJ3QixNQUFNLENBQUNsQyxxQkFDUG1DLEdBQUcsQ0FBQztnQkFBRWhDLFNBQVNnRDtZQUFXLEdBQzFCNUIsS0FBSyxDQUFDdEUsK0NBQUVBLENBQUMrQyxvQkFBb0JDLFlBQVksRUFBRUEsZUFDM0NnQixTQUFTLEdBQ1RDLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUNaLGVBQ0QsTUFBTSxJQUFJeUIsTUFBTTtZQUNwQixPQUFPekI7UUFDWDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWNpcGUta2VlcGVyLy4vbm9kZV9tb2R1bGVzL0BhdXRoL2RyaXp6bGUtYWRhcHRlci9saWIvcGcuanM/ODgzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbmQsIGVxLCBnZXRUYWJsZUNvbHVtbnMgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcbmltcG9ydCB7IGJvb2xlYW4sIGludGVnZXIsIHBnVGFibGUsIHByaW1hcnlLZXksIHRleHQsIHRpbWVzdGFtcCwgfSBmcm9tIFwiZHJpenpsZS1vcm0vcGctY29yZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVRhYmxlcyhzY2hlbWEgPSB7fSkge1xuICAgIGNvbnN0IHVzZXJzVGFibGUgPSBzY2hlbWEudXNlcnNUYWJsZSA/P1xuICAgICAgICAocGdUYWJsZShcInVzZXJcIiwge1xuICAgICAgICAgICAgaWQ6IHRleHQoXCJpZFwiKVxuICAgICAgICAgICAgICAgIC5wcmltYXJ5S2V5KClcbiAgICAgICAgICAgICAgICAuJGRlZmF1bHRGbigoKSA9PiBjcnlwdG8ucmFuZG9tVVVJRCgpKSxcbiAgICAgICAgICAgIG5hbWU6IHRleHQoXCJuYW1lXCIpLFxuICAgICAgICAgICAgZW1haWw6IHRleHQoXCJlbWFpbFwiKS51bmlxdWUoKSxcbiAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHRpbWVzdGFtcChcImVtYWlsVmVyaWZpZWRcIiwgeyBtb2RlOiBcImRhdGVcIiB9KSxcbiAgICAgICAgICAgIGltYWdlOiB0ZXh0KFwiaW1hZ2VcIiksXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBhY2NvdW50c1RhYmxlID0gc2NoZW1hLmFjY291bnRzVGFibGUgPz9cbiAgICAgICAgKHBnVGFibGUoXCJhY2NvdW50XCIsIHtcbiAgICAgICAgICAgIHVzZXJJZDogdGV4dChcInVzZXJJZFwiKVxuICAgICAgICAgICAgICAgIC5ub3ROdWxsKClcbiAgICAgICAgICAgICAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vyc1RhYmxlLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgICAgICAgICAgIHR5cGU6IHRleHQoXCJ0eXBlXCIpLiR0eXBlKCkubm90TnVsbCgpLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHRleHQoXCJwcm92aWRlclwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogdGV4dChcInByb3ZpZGVyQWNjb3VudElkXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHJlZnJlc2hfdG9rZW46IHRleHQoXCJyZWZyZXNoX3Rva2VuXCIpLFxuICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiB0ZXh0KFwiYWNjZXNzX3Rva2VuXCIpLFxuICAgICAgICAgICAgZXhwaXJlc19hdDogaW50ZWdlcihcImV4cGlyZXNfYXRcIiksXG4gICAgICAgICAgICB0b2tlbl90eXBlOiB0ZXh0KFwidG9rZW5fdHlwZVwiKSxcbiAgICAgICAgICAgIHNjb3BlOiB0ZXh0KFwic2NvcGVcIiksXG4gICAgICAgICAgICBpZF90b2tlbjogdGV4dChcImlkX3Rva2VuXCIpLFxuICAgICAgICAgICAgc2Vzc2lvbl9zdGF0ZTogdGV4dChcInNlc3Npb25fc3RhdGVcIiksXG4gICAgICAgIH0sIChhY2NvdW50KSA9PiAoe1xuICAgICAgICAgICAgY29tcG9zaXRlUGs6IHByaW1hcnlLZXkoe1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFthY2NvdW50LnByb3ZpZGVyLCBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSkpO1xuICAgIGNvbnN0IHNlc3Npb25zVGFibGUgPSBzY2hlbWEuc2Vzc2lvbnNUYWJsZSA/P1xuICAgICAgICAocGdUYWJsZShcInNlc3Npb25cIiwge1xuICAgICAgICAgICAgc2Vzc2lvblRva2VuOiB0ZXh0KFwic2Vzc2lvblRva2VuXCIpLnByaW1hcnlLZXkoKSxcbiAgICAgICAgICAgIHVzZXJJZDogdGV4dChcInVzZXJJZFwiKVxuICAgICAgICAgICAgICAgIC5ub3ROdWxsKClcbiAgICAgICAgICAgICAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vyc1RhYmxlLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgICAgICAgICAgIGV4cGlyZXM6IHRpbWVzdGFtcChcImV4cGlyZXNcIiwgeyBtb2RlOiBcImRhdGVcIiB9KS5ub3ROdWxsKCksXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSA9IHNjaGVtYS52ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSA/P1xuICAgICAgICAocGdUYWJsZShcInZlcmlmaWNhdGlvblRva2VuXCIsIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IHRleHQoXCJpZGVudGlmaWVyXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHRva2VuOiB0ZXh0KFwidG9rZW5cIikubm90TnVsbCgpLFxuICAgICAgICAgICAgZXhwaXJlczogdGltZXN0YW1wKFwiZXhwaXJlc1wiLCB7IG1vZGU6IFwiZGF0ZVwiIH0pLm5vdE51bGwoKSxcbiAgICAgICAgfSwgKHZlcmlmaWNhdGlvblRva2VuKSA9PiAoe1xuICAgICAgICAgICAgY29tcG9zaXRlUGs6IHByaW1hcnlLZXkoe1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt2ZXJpZmljYXRpb25Ub2tlbi5pZGVudGlmaWVyLCB2ZXJpZmljYXRpb25Ub2tlbi50b2tlbl0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkpKTtcbiAgICBjb25zdCBhdXRoZW50aWNhdG9yc1RhYmxlID0gc2NoZW1hLmF1dGhlbnRpY2F0b3JzVGFibGUgPz9cbiAgICAgICAgKHBnVGFibGUoXCJhdXRoZW50aWNhdG9yXCIsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJRDogdGV4dChcImNyZWRlbnRpYWxJRFwiKS5ub3ROdWxsKCkudW5pcXVlKCksXG4gICAgICAgICAgICB1c2VySWQ6IHRleHQoXCJ1c2VySWRcIilcbiAgICAgICAgICAgICAgICAubm90TnVsbCgpXG4gICAgICAgICAgICAgICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnNUYWJsZS5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogdGV4dChcInByb3ZpZGVyQWNjb3VudElkXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxQdWJsaWNLZXk6IHRleHQoXCJjcmVkZW50aWFsUHVibGljS2V5XCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGNvdW50ZXI6IGludGVnZXIoXCJjb3VudGVyXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxEZXZpY2VUeXBlOiB0ZXh0KFwiY3JlZGVudGlhbERldmljZVR5cGVcIikubm90TnVsbCgpLFxuICAgICAgICAgICAgY3JlZGVudGlhbEJhY2tlZFVwOiBib29sZWFuKFwiY3JlZGVudGlhbEJhY2tlZFVwXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHRyYW5zcG9ydHM6IHRleHQoXCJ0cmFuc3BvcnRzXCIpLFxuICAgICAgICB9LCAoYXV0aGVudGljYXRvcikgPT4gKHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZVBLOiBwcmltYXJ5S2V5KHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbYXV0aGVudGljYXRvci51c2VySWQsIGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbElEXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJzVGFibGUsXG4gICAgICAgIGFjY291bnRzVGFibGUsXG4gICAgICAgIHNlc3Npb25zVGFibGUsXG4gICAgICAgIHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLFxuICAgICAgICBhdXRoZW50aWNhdG9yc1RhYmxlLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gUG9zdGdyZXNEcml6emxlQWRhcHRlcihjbGllbnQsIHNjaGVtYSkge1xuICAgIGNvbnN0IHsgdXNlcnNUYWJsZSwgYWNjb3VudHNUYWJsZSwgc2Vzc2lvbnNUYWJsZSwgdmVyaWZpY2F0aW9uVG9rZW5zVGFibGUsIGF1dGhlbnRpY2F0b3JzVGFibGUsIH0gPSBkZWZpbmVUYWJsZXMoc2NoZW1hKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhc3luYyBjcmVhdGVVc2VyKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIC4uLmluc2VydERhdGEgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBoYXNEZWZhdWx0SWQgPSBnZXRUYWJsZUNvbHVtbnModXNlcnNUYWJsZSlbXCJpZFwiXVtcImhhc0RlZmF1bHRcIl07XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLmluc2VydCh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC52YWx1ZXMoaGFzRGVmYXVsdElkID8gaW5zZXJ0RGF0YSA6IHsgLi4uaW5zZXJ0RGF0YSwgaWQgfSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRVc2VyKHVzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgICAgIC5mcm9tKHVzZXJzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHVzZXJzVGFibGUuaWQsIHVzZXJJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmxlbmd0aCA+IDAgPyByZXNbMF0gOiBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWwpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbSh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcSh1c2Vyc1RhYmxlLmVtYWlsLCBlbWFpbCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmxlbmd0aCA+IDAgPyByZXNbMF0gOiBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlU2Vzc2lvbihkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLmluc2VydChzZXNzaW9uc1RhYmxlKVxuICAgICAgICAgICAgICAgIC52YWx1ZXMoZGF0YSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uc1RhYmxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJzVGFibGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKHNlc3Npb25zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBzZXNzaW9uVG9rZW4pKVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4odXNlcnNUYWJsZSwgZXEodXNlcnNUYWJsZS5pZCwgc2Vzc2lvbnNUYWJsZS51c2VySWQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IChyZXMubGVuZ3RoID4gMCA/IHJlc1swXSA6IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXBkYXRlVXNlcihkYXRhKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZSh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC5zZXQoZGF0YSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEodXNlcnNUYWJsZS5pZCwgZGF0YS5pZCkpXG4gICAgICAgICAgICAgICAgLnJldHVybmluZygpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGZvdW5kLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZVNlc3Npb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC51cGRhdGUoc2Vzc2lvbnNUYWJsZSlcbiAgICAgICAgICAgICAgICAuc2V0KGRhdGEpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBkYXRhLnNlc3Npb25Ub2tlbikpXG4gICAgICAgICAgICAgICAgLnJldHVybmluZygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgbGlua0FjY291bnQoZGF0YSkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50Lmluc2VydChhY2NvdW50c1RhYmxlKS52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldFVzZXJCeUFjY291bnQoYWNjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCh7XG4gICAgICAgICAgICAgICAgYWNjb3VudDogYWNjb3VudHNUYWJsZSxcbiAgICAgICAgICAgICAgICB1c2VyOiB1c2Vyc1RhYmxlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZnJvbShhY2NvdW50c1RhYmxlKVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4odXNlcnNUYWJsZSwgZXEoYWNjb3VudHNUYWJsZS51c2VySWQsIHVzZXJzVGFibGUuaWQpKVxuICAgICAgICAgICAgICAgIC53aGVyZShhbmQoZXEoYWNjb3VudHNUYWJsZS5wcm92aWRlciwgYWNjb3VudC5wcm92aWRlciksIGVxKGFjY291bnRzVGFibGUucHJvdmlkZXJBY2NvdW50SWQsIGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQpKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0pO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdD8udXNlciA/PyBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGRlbGV0ZVNlc3Npb24oc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuZGVsZXRlKHNlc3Npb25zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBzZXNzaW9uVG9rZW4pKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5pbnNlcnQodmVyaWZpY2F0aW9uVG9rZW5zVGFibGUpXG4gICAgICAgICAgICAgICAgLnZhbHVlcyhkYXRhKVxuICAgICAgICAgICAgICAgIC5yZXR1cm5pbmcoKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlc1swXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVzZVZlcmlmaWNhdGlvblRva2VuKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5kZWxldGUodmVyaWZpY2F0aW9uVG9rZW5zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGFuZChlcSh2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZS5pZGVudGlmaWVyLCBwYXJhbXMuaWRlbnRpZmllciksIGVxKHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlLnRva2VuLCBwYXJhbXMudG9rZW4pKSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiAocmVzLmxlbmd0aCA+IDAgPyByZXNbMF0gOiBudWxsKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGRlbGV0ZVVzZXIoaWQpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5kZWxldGUodXNlcnNUYWJsZSkud2hlcmUoZXEodXNlcnNUYWJsZS5pZCwgaWQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdW5saW5rQWNjb3VudChwYXJhbXMpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5kZWxldGUoYWNjb3VudHNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoYW5kKGVxKGFjY291bnRzVGFibGUucHJvdmlkZXIsIHBhcmFtcy5wcm92aWRlciksIGVxKGFjY291bnRzVGFibGUucHJvdmlkZXJBY2NvdW50SWQsIHBhcmFtcy5wcm92aWRlckFjY291bnRJZCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0QWNjb3VudChwcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbShhY2NvdW50c1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShhbmQoZXEoYWNjb3VudHNUYWJsZS5wcm92aWRlciwgcHJvdmlkZXIpLCBlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyQWNjb3VudElkLCBwcm92aWRlckFjY291bnRJZCkpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlc1swXSA/PyBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlQXV0aGVudGljYXRvcihkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLmluc2VydChhdXRoZW50aWNhdG9yc1RhYmxlKVxuICAgICAgICAgICAgICAgIC52YWx1ZXMoZGF0YSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0gPz8gbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldEF1dGhlbnRpY2F0b3IoY3JlZGVudGlhbElEKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoYXV0aGVudGljYXRvcnNUYWJsZS5jcmVkZW50aWFsSUQsIGNyZWRlbnRpYWxJRCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdID8/IG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBsaXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCh1c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbShhdXRoZW50aWNhdG9yc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcShhdXRoZW50aWNhdG9yc1RhYmxlLnVzZXJJZCwgdXNlcklkKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlcihjcmVkZW50aWFsSUQsIG5ld0NvdW50ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0b3IgPSBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAudXBkYXRlKGF1dGhlbnRpY2F0b3JzVGFibGUpXG4gICAgICAgICAgICAgICAgLnNldCh7IGNvdW50ZXI6IG5ld0NvdW50ZXIgfSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoYXV0aGVudGljYXRvcnNUYWJsZS5jcmVkZW50aWFsSUQsIGNyZWRlbnRpYWxJRCkpXG4gICAgICAgICAgICAgICAgLnJldHVybmluZygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdKTtcbiAgICAgICAgICAgIGlmICghYXV0aGVudGljYXRvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXRoZW50aWNhdG9yIG5vdCBmb3VuZC5cIik7XG4gICAgICAgICAgICByZXR1cm4gYXV0aGVudGljYXRvcjtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbImFuZCIsImVxIiwiZ2V0VGFibGVDb2x1bW5zIiwiYm9vbGVhbiIsImludGVnZXIiLCJwZ1RhYmxlIiwicHJpbWFyeUtleSIsInRleHQiLCJ0aW1lc3RhbXAiLCJkZWZpbmVUYWJsZXMiLCJzY2hlbWEiLCJ1c2Vyc1RhYmxlIiwiaWQiLCIkZGVmYXVsdEZuIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsIm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsImVtYWlsVmVyaWZpZWQiLCJtb2RlIiwiaW1hZ2UiLCJhY2NvdW50c1RhYmxlIiwidXNlcklkIiwibm90TnVsbCIsInJlZmVyZW5jZXMiLCJvbkRlbGV0ZSIsInR5cGUiLCIkdHlwZSIsInByb3ZpZGVyIiwicHJvdmlkZXJBY2NvdW50SWQiLCJyZWZyZXNoX3Rva2VuIiwiYWNjZXNzX3Rva2VuIiwiZXhwaXJlc19hdCIsInRva2VuX3R5cGUiLCJzY29wZSIsImlkX3Rva2VuIiwic2Vzc2lvbl9zdGF0ZSIsImFjY291bnQiLCJjb21wb3NpdGVQayIsImNvbHVtbnMiLCJzZXNzaW9uc1RhYmxlIiwic2Vzc2lvblRva2VuIiwiZXhwaXJlcyIsInZlcmlmaWNhdGlvblRva2Vuc1RhYmxlIiwiaWRlbnRpZmllciIsInRva2VuIiwidmVyaWZpY2F0aW9uVG9rZW4iLCJhdXRoZW50aWNhdG9yc1RhYmxlIiwiY3JlZGVudGlhbElEIiwiY3JlZGVudGlhbFB1YmxpY0tleSIsImNvdW50ZXIiLCJjcmVkZW50aWFsRGV2aWNlVHlwZSIsImNyZWRlbnRpYWxCYWNrZWRVcCIsInRyYW5zcG9ydHMiLCJhdXRoZW50aWNhdG9yIiwiY29tcG9zaXRlUEsiLCJQb3N0Z3Jlc0RyaXp6bGVBZGFwdGVyIiwiY2xpZW50IiwiY3JlYXRlVXNlciIsImRhdGEiLCJpbnNlcnREYXRhIiwiaGFzRGVmYXVsdElkIiwiaW5zZXJ0IiwidmFsdWVzIiwicmV0dXJuaW5nIiwidGhlbiIsInJlcyIsImdldFVzZXIiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJsZW5ndGgiLCJnZXRVc2VyQnlFbWFpbCIsImNyZWF0ZVNlc3Npb24iLCJnZXRTZXNzaW9uQW5kVXNlciIsInNlc3Npb24iLCJ1c2VyIiwiaW5uZXJKb2luIiwidXBkYXRlVXNlciIsIkVycm9yIiwicmVzdWx0IiwidXBkYXRlIiwic2V0IiwidXBkYXRlU2Vzc2lvbiIsImxpbmtBY2NvdW50IiwiZ2V0VXNlckJ5QWNjb3VudCIsImRlbGV0ZVNlc3Npb24iLCJkZWxldGUiLCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlbiIsInVzZVZlcmlmaWNhdGlvblRva2VuIiwicGFyYW1zIiwiZGVsZXRlVXNlciIsInVubGlua0FjY291bnQiLCJnZXRBY2NvdW50IiwiY3JlYXRlQXV0aGVudGljYXRvciIsImdldEF1dGhlbnRpY2F0b3IiLCJsaXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCIsInVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyIiwibmV3Q291bnRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/drizzle-adapter/lib/pg.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/drizzle-adapter/lib/sqlite.js":
/*!**********************************************************!*\
  !*** ./node_modules/@auth/drizzle-adapter/lib/sqlite.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SQLiteDrizzleAdapter: () => (/* binding */ SQLiteDrizzleAdapter),\n/* harmony export */   defineTables: () => (/* binding */ defineTables)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/utils.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/table.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/primary-keys.js\");\n\n\nfunction defineTables(schema = {}) {\n    const usersTable = schema.usersTable ?? (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"user\", {\n        id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id\").primaryKey().$defaultFn(()=>crypto.randomUUID()),\n        name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"name\"),\n        email: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"email\").unique(),\n        emailVerified: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"emailVerified\", {\n            mode: \"timestamp_ms\"\n        }),\n        image: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"image\")\n    });\n    const accountsTable = schema.accountsTable ?? (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"account\", {\n        userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        type: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"type\").$type().notNull(),\n        provider: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"provider\").notNull(),\n        providerAccountId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"providerAccountId\").notNull(),\n        refresh_token: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"refresh_token\"),\n        access_token: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"access_token\"),\n        expires_at: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"expires_at\"),\n        token_type: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"token_type\"),\n        scope: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"scope\"),\n        id_token: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"id_token\"),\n        session_state: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"session_state\")\n    }, (account)=>({\n            compositePk: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.primaryKey)({\n                columns: [\n                    account.provider,\n                    account.providerAccountId\n                ]\n            })\n        }));\n    const sessionsTable = schema.sessionsTable ?? (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"session\", {\n        sessionToken: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"sessionToken\").primaryKey(),\n        userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        expires: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"expires\", {\n            mode: \"timestamp_ms\"\n        }).notNull()\n    });\n    const verificationTokensTable = schema.verificationTokensTable ?? (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"verificationToken\", {\n        identifier: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"identifier\").notNull(),\n        token: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"token\").notNull(),\n        expires: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"expires\", {\n            mode: \"timestamp_ms\"\n        }).notNull()\n    }, (verficationToken)=>({\n            compositePk: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.primaryKey)({\n                columns: [\n                    verficationToken.identifier,\n                    verficationToken.token\n                ]\n            })\n        }));\n    const authenticatorsTable = schema.authenticatorsTable ?? (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)(\"authenticator\", {\n        credentialID: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialID\").notNull().unique(),\n        userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"userId\").notNull().references(()=>usersTable.id, {\n            onDelete: \"cascade\"\n        }),\n        providerAccountId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"providerAccountId\").notNull(),\n        credentialPublicKey: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialPublicKey\").notNull(),\n        counter: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"counter\").notNull(),\n        credentialDeviceType: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"credentialDeviceType\").notNull(),\n        credentialBackedUp: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)(\"credentialBackedUp\", {\n            mode: \"boolean\"\n        }).notNull(),\n        transports: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)(\"transports\")\n    }, (authenticator)=>({\n            compositePK: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_3__.primaryKey)({\n                columns: [\n                    authenticator.userId,\n                    authenticator.credentialID\n                ]\n            })\n        }));\n    return {\n        usersTable,\n        accountsTable,\n        sessionsTable,\n        verificationTokensTable,\n        authenticatorsTable\n    };\n}\nfunction SQLiteDrizzleAdapter(client, schema) {\n    const { usersTable, accountsTable, sessionsTable, verificationTokensTable, authenticatorsTable } = defineTables(schema);\n    return {\n        async createUser (data) {\n            const { id, ...insertData } = data;\n            const hasDefaultId = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.getTableColumns)(usersTable)[\"id\"][\"hasDefault\"];\n            return client.insert(usersTable).values(hasDefaultId ? insertData : {\n                ...insertData,\n                id\n            }).returning().get();\n        },\n        async getUser (userId) {\n            const result = await client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(usersTable.id, userId)).get() ?? null;\n            return result;\n        },\n        async getUserByEmail (email) {\n            const result = await client.select().from(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(usersTable.email, email)).get() ?? null;\n            return result;\n        },\n        async createSession (data) {\n            return client.insert(sessionsTable).values(data).returning().get();\n        },\n        async getSessionAndUser (sessionToken) {\n            const result = await client.select({\n                session: sessionsTable,\n                user: usersTable\n            }).from(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(sessionsTable.sessionToken, sessionToken)).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(usersTable.id, sessionsTable.userId)).get() ?? null;\n            return result;\n        },\n        async updateUser (data) {\n            if (!data.id) {\n                throw new Error(\"No user id.\");\n            }\n            const result = await client.update(usersTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(usersTable.id, data.id)).returning().get();\n            if (!result) {\n                throw new Error(\"User not found.\");\n            }\n            return result;\n        },\n        async updateSession (data) {\n            const result = await client.update(sessionsTable).set(data).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(sessionsTable.sessionToken, data.sessionToken)).returning().get();\n            return result ?? null;\n        },\n        async linkAccount (data) {\n            await client.insert(accountsTable).values(data).run();\n        },\n        async getUserByAccount (account) {\n            const result = await client.select({\n                account: accountsTable,\n                user: usersTable\n            }).from(accountsTable).innerJoin(usersTable, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.userId, usersTable.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.provider, account.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.providerAccountId, account.providerAccountId))).get();\n            const user = result?.user ?? null;\n            return user;\n        },\n        async deleteSession (sessionToken) {\n            await client.delete(sessionsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(sessionsTable.sessionToken, sessionToken)).run();\n        },\n        async createVerificationToken (data) {\n            return client.insert(verificationTokensTable).values(data).returning().get();\n        },\n        async useVerificationToken (params) {\n            const result = await client.delete(verificationTokensTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(verificationTokensTable.identifier, params.identifier), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(verificationTokensTable.token, params.token))).returning().get();\n            return result ?? null;\n        },\n        async deleteUser (id) {\n            await client.delete(usersTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(usersTable.id, id)).run();\n        },\n        async unlinkAccount (params) {\n            await client.delete(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.provider, params.provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.providerAccountId, params.providerAccountId))).run();\n        },\n        async getAccount (providerAccountId, provider) {\n            return client.select().from(accountsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.provider, provider), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(accountsTable.providerAccountId, providerAccountId))).then((res)=>res[0] ?? null);\n        },\n        async createAuthenticator (data) {\n            return client.insert(authenticatorsTable).values(data).returning().then((res)=>res[0] ?? null);\n        },\n        async getAuthenticator (credentialID) {\n            return client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(authenticatorsTable.credentialID, credentialID)).then((res)=>res[0] ?? null);\n        },\n        async listAuthenticatorsByUserId (userId) {\n            return client.select().from(authenticatorsTable).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(authenticatorsTable.userId, userId)).then((res)=>res);\n        },\n        async updateAuthenticatorCounter (credentialID, newCounter) {\n            const authenticator = await client.update(authenticatorsTable).set({\n                counter: newCounter\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(authenticatorsTable.credentialID, credentialID)).returning().then((res)=>res[0]);\n            if (!authenticator) throw new Error(\"Authenticator not found.\");\n            return authenticator;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvZHJpenpsZS1hZGFwdGVyL2xpYi9zcWxpdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDMkI7QUFDM0UsU0FBU08sYUFBYUMsU0FBUyxDQUFDLENBQUM7SUFDcEMsTUFBTUMsYUFBYUQsT0FBT0MsVUFBVSxJQUMvQkosb0VBQVdBLENBQUMsUUFBUTtRQUNqQkssSUFBSUosNkRBQUlBLENBQUMsTUFDSkYsVUFBVSxHQUNWTyxVQUFVLENBQUMsSUFBTUMsT0FBT0MsVUFBVTtRQUN2Q0MsTUFBTVIsNkRBQUlBLENBQUM7UUFDWFMsT0FBT1QsNkRBQUlBLENBQUMsU0FBU1UsTUFBTTtRQUMzQkMsZUFBZWQsZ0VBQU9BLENBQUMsaUJBQWlCO1lBQUVlLE1BQU07UUFBZTtRQUMvREMsT0FBT2IsNkRBQUlBLENBQUM7SUFDaEI7SUFDSixNQUFNYyxnQkFBZ0JaLE9BQU9ZLGFBQWEsSUFDckNmLG9FQUFXQSxDQUFDLFdBQVc7UUFDcEJnQixRQUFRZiw2REFBSUEsQ0FBQyxVQUNSZ0IsT0FBTyxHQUNQQyxVQUFVLENBQUMsSUFBTWQsV0FBV0MsRUFBRSxFQUFFO1lBQUVjLFVBQVU7UUFBVTtRQUMzREMsTUFBTW5CLDZEQUFJQSxDQUFDLFFBQVFvQixLQUFLLEdBQUdKLE9BQU87UUFDbENLLFVBQVVyQiw2REFBSUEsQ0FBQyxZQUFZZ0IsT0FBTztRQUNsQ00sbUJBQW1CdEIsNkRBQUlBLENBQUMscUJBQXFCZ0IsT0FBTztRQUNwRE8sZUFBZXZCLDZEQUFJQSxDQUFDO1FBQ3BCd0IsY0FBY3hCLDZEQUFJQSxDQUFDO1FBQ25CeUIsWUFBWTVCLGdFQUFPQSxDQUFDO1FBQ3BCNkIsWUFBWTFCLDZEQUFJQSxDQUFDO1FBQ2pCMkIsT0FBTzNCLDZEQUFJQSxDQUFDO1FBQ1o0QixVQUFVNUIsNkRBQUlBLENBQUM7UUFDZjZCLGVBQWU3Qiw2REFBSUEsQ0FBQztJQUN4QixHQUFHLENBQUM4QixVQUFhO1lBQ2JDLGFB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RSxrQkFBaUJoRCxZQUFZO1lBQy9CLE9BQU9TLE9BQ0ZXLE1BQU0sR0FDTkMsSUFBSSxDQUFDdEIscUJBQ0x1QixLQUFLLENBQUNwRSwrQ0FBRUEsQ0FBQzZDLG9CQUFvQkMsWUFBWSxFQUFFQSxlQUMzQzZDLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxHQUFHLENBQUMsRUFBRSxJQUFJO1FBQ2pDO1FBQ0EsTUFBTUcsNEJBQTJCM0UsTUFBTTtZQUNuQyxPQUFPbUMsT0FDRlcsTUFBTSxHQUNOQyxJQUFJLENBQUN0QixxQkFDTHVCLEtBQUssQ0FBQ3BFLCtDQUFFQSxDQUFDNkMsb0JBQW9CekIsTUFBTSxFQUFFQSxTQUNyQ3VFLElBQUksQ0FBQyxDQUFDQyxNQUFRQTtRQUN2QjtRQUNBLE1BQU1JLDRCQUEyQmxELFlBQVksRUFBRW1ELFVBQVU7WUFDckQsTUFBTTdDLGdCQUFnQixNQUFNRyxPQUN2QnNCLE1BQU0sQ0FBQ2hDLHFCQUNQaUMsR0FBRyxDQUFDO2dCQUFFOUIsU0FBU2lEO1lBQVcsR0FDMUI3QixLQUFLLENBQUNwRSwrQ0FBRUEsQ0FBQzZDLG9CQUFvQkMsWUFBWSxFQUFFQSxlQUMzQ2dCLFNBQVMsR0FDVDZCLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUN4QyxlQUNELE1BQU0sSUFBSXdCLE1BQU07WUFDcEIsT0FBT3hCO1FBQ1g7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjaXBlLWtlZXBlci8uL25vZGVfbW9kdWxlcy9AYXV0aC9kcml6emxlLWFkYXB0ZXIvbGliL3NxbGl0ZS5qcz82ZWZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuZCwgZXEsIGdldFRhYmxlQ29sdW1ucyB9IGZyb20gXCJkcml6emxlLW9ybVwiO1xuaW1wb3J0IHsgaW50ZWdlciwgcHJpbWFyeUtleSwgc3FsaXRlVGFibGUsIHRleHQsIH0gZnJvbSBcImRyaXp6bGUtb3JtL3NxbGl0ZS1jb3JlXCI7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lVGFibGVzKHNjaGVtYSA9IHt9KSB7XG4gICAgY29uc3QgdXNlcnNUYWJsZSA9IHNjaGVtYS51c2Vyc1RhYmxlID8/XG4gICAgICAgIChzcWxpdGVUYWJsZShcInVzZXJcIiwge1xuICAgICAgICAgICAgaWQ6IHRleHQoXCJpZFwiKVxuICAgICAgICAgICAgICAgIC5wcmltYXJ5S2V5KClcbiAgICAgICAgICAgICAgICAuJGRlZmF1bHRGbigoKSA9PiBjcnlwdG8ucmFuZG9tVVVJRCgpKSxcbiAgICAgICAgICAgIG5hbWU6IHRleHQoXCJuYW1lXCIpLFxuICAgICAgICAgICAgZW1haWw6IHRleHQoXCJlbWFpbFwiKS51bmlxdWUoKSxcbiAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IGludGVnZXIoXCJlbWFpbFZlcmlmaWVkXCIsIHsgbW9kZTogXCJ0aW1lc3RhbXBfbXNcIiB9KSxcbiAgICAgICAgICAgIGltYWdlOiB0ZXh0KFwiaW1hZ2VcIiksXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBhY2NvdW50c1RhYmxlID0gc2NoZW1hLmFjY291bnRzVGFibGUgPz9cbiAgICAgICAgKHNxbGl0ZVRhYmxlKFwiYWNjb3VudFwiLCB7XG4gICAgICAgICAgICB1c2VySWQ6IHRleHQoXCJ1c2VySWRcIilcbiAgICAgICAgICAgICAgICAubm90TnVsbCgpXG4gICAgICAgICAgICAgICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnNUYWJsZS5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gICAgICAgICAgICB0eXBlOiB0ZXh0KFwidHlwZVwiKS4kdHlwZSgpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiB0ZXh0KFwicHJvdmlkZXJcIikubm90TnVsbCgpLFxuICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IHRleHQoXCJwcm92aWRlckFjY291bnRJZFwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICByZWZyZXNoX3Rva2VuOiB0ZXh0KFwicmVmcmVzaF90b2tlblwiKSxcbiAgICAgICAgICAgIGFjY2Vzc190b2tlbjogdGV4dChcImFjY2Vzc190b2tlblwiKSxcbiAgICAgICAgICAgIGV4cGlyZXNfYXQ6IGludGVnZXIoXCJleHBpcmVzX2F0XCIpLFxuICAgICAgICAgICAgdG9rZW5fdHlwZTogdGV4dChcInRva2VuX3R5cGVcIiksXG4gICAgICAgICAgICBzY29wZTogdGV4dChcInNjb3BlXCIpLFxuICAgICAgICAgICAgaWRfdG9rZW46IHRleHQoXCJpZF90b2tlblwiKSxcbiAgICAgICAgICAgIHNlc3Npb25fc3RhdGU6IHRleHQoXCJzZXNzaW9uX3N0YXRlXCIpLFxuICAgICAgICB9LCAoYWNjb3VudCkgPT4gKHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZVBrOiBwcmltYXJ5S2V5KHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbYWNjb3VudC5wcm92aWRlciwgYWNjb3VudC5wcm92aWRlckFjY291bnRJZF0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkpKTtcbiAgICBjb25zdCBzZXNzaW9uc1RhYmxlID0gc2NoZW1hLnNlc3Npb25zVGFibGUgPz9cbiAgICAgICAgKHNxbGl0ZVRhYmxlKFwic2Vzc2lvblwiLCB7XG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IHRleHQoXCJzZXNzaW9uVG9rZW5cIikucHJpbWFyeUtleSgpLFxuICAgICAgICAgICAgdXNlcklkOiB0ZXh0KFwidXNlcklkXCIpXG4gICAgICAgICAgICAgICAgLm5vdE51bGwoKVxuICAgICAgICAgICAgICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzVGFibGUuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICAgICAgICAgICAgZXhwaXJlczogaW50ZWdlcihcImV4cGlyZXNcIiwgeyBtb2RlOiBcInRpbWVzdGFtcF9tc1wiIH0pLm5vdE51bGwoKSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlID0gc2NoZW1hLnZlcmlmaWNhdGlvblRva2Vuc1RhYmxlID8/XG4gICAgICAgIChzcWxpdGVUYWJsZShcInZlcmlmaWNhdGlvblRva2VuXCIsIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IHRleHQoXCJpZGVudGlmaWVyXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIHRva2VuOiB0ZXh0KFwidG9rZW5cIikubm90TnVsbCgpLFxuICAgICAgICAgICAgZXhwaXJlczogaW50ZWdlcihcImV4cGlyZXNcIiwgeyBtb2RlOiBcInRpbWVzdGFtcF9tc1wiIH0pLm5vdE51bGwoKSxcbiAgICAgICAgfSwgKHZlcmZpY2F0aW9uVG9rZW4pID0+ICh7XG4gICAgICAgICAgICBjb21wb3NpdGVQazogcHJpbWFyeUtleSh7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW3ZlcmZpY2F0aW9uVG9rZW4uaWRlbnRpZmllciwgdmVyZmljYXRpb25Ub2tlbi50b2tlbl0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkpKTtcbiAgICBjb25zdCBhdXRoZW50aWNhdG9yc1RhYmxlID0gc2NoZW1hLmF1dGhlbnRpY2F0b3JzVGFibGUgPz9cbiAgICAgICAgKHNxbGl0ZVRhYmxlKFwiYXV0aGVudGljYXRvclwiLCB7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQ6IHRleHQoXCJjcmVkZW50aWFsSURcIikubm90TnVsbCgpLnVuaXF1ZSgpLFxuICAgICAgICAgICAgdXNlcklkOiB0ZXh0KFwidXNlcklkXCIpXG4gICAgICAgICAgICAgICAgLm5vdE51bGwoKVxuICAgICAgICAgICAgICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzVGFibGUuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IHRleHQoXCJwcm92aWRlckFjY291bnRJZFwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICBjcmVkZW50aWFsUHVibGljS2V5OiB0ZXh0KFwiY3JlZGVudGlhbFB1YmxpY0tleVwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICBjb3VudGVyOiBpbnRlZ2VyKFwiY291bnRlclwiKS5ub3ROdWxsKCksXG4gICAgICAgICAgICBjcmVkZW50aWFsRGV2aWNlVHlwZTogdGV4dChcImNyZWRlbnRpYWxEZXZpY2VUeXBlXCIpLm5vdE51bGwoKSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxCYWNrZWRVcDogaW50ZWdlcihcImNyZWRlbnRpYWxCYWNrZWRVcFwiLCB7XG4gICAgICAgICAgICAgICAgbW9kZTogXCJib29sZWFuXCIsXG4gICAgICAgICAgICB9KS5ub3ROdWxsKCksXG4gICAgICAgICAgICB0cmFuc3BvcnRzOiB0ZXh0KFwidHJhbnNwb3J0c1wiKSxcbiAgICAgICAgfSwgKGF1dGhlbnRpY2F0b3IpID0+ICh7XG4gICAgICAgICAgICBjb21wb3NpdGVQSzogcHJpbWFyeUtleSh7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW2F1dGhlbnRpY2F0b3IudXNlcklkLCBhdXRoZW50aWNhdG9yLmNyZWRlbnRpYWxJRF0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB1c2Vyc1RhYmxlLFxuICAgICAgICBhY2NvdW50c1RhYmxlLFxuICAgICAgICBzZXNzaW9uc1RhYmxlLFxuICAgICAgICB2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSxcbiAgICAgICAgYXV0aGVudGljYXRvcnNUYWJsZSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIFNRTGl0ZURyaXp6bGVBZGFwdGVyKGNsaWVudCwgc2NoZW1hKSB7XG4gICAgY29uc3QgeyB1c2Vyc1RhYmxlLCBhY2NvdW50c1RhYmxlLCBzZXNzaW9uc1RhYmxlLCB2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSwgYXV0aGVudGljYXRvcnNUYWJsZSwgfSA9IGRlZmluZVRhYmxlcyhzY2hlbWEpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIGNyZWF0ZVVzZXIoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgeyBpZCwgLi4uaW5zZXJ0RGF0YSB9ID0gZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0RlZmF1bHRJZCA9IGdldFRhYmxlQ29sdW1ucyh1c2Vyc1RhYmxlKVtcImlkXCJdW1wiaGFzRGVmYXVsdFwiXTtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgICAgICAuaW5zZXJ0KHVzZXJzVGFibGUpXG4gICAgICAgICAgICAgICAgLnZhbHVlcyhoYXNEZWZhdWx0SWQgPyBpbnNlcnREYXRhIDogeyAuLi5pbnNlcnREYXRhLCBpZCB9KVxuICAgICAgICAgICAgICAgIC5yZXR1cm5pbmcoKVxuICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlcih1c2VySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgICAgICAuZnJvbSh1c2Vyc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcSh1c2Vyc1RhYmxlLmlkLCB1c2VySWQpKVxuICAgICAgICAgICAgICAgIC5nZXQoKSkgPz8gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20odXNlcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEodXNlcnNUYWJsZS5lbWFpbCwgZW1haWwpKVxuICAgICAgICAgICAgICAgIC5nZXQoKSkgPz8gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZVNlc3Npb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5pbnNlcnQoc2Vzc2lvbnNUYWJsZSkudmFsdWVzKGRhdGEpLnJldHVybmluZygpLmdldCgpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uc1RhYmxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJzVGFibGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mcm9tKHNlc3Npb25zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBzZXNzaW9uVG9rZW4pKVxuICAgICAgICAgICAgICAgIC5pbm5lckpvaW4odXNlcnNUYWJsZSwgZXEodXNlcnNUYWJsZS5pZCwgc2Vzc2lvbnNUYWJsZS51c2VySWQpKVxuICAgICAgICAgICAgICAgIC5nZXQoKSkgPz8gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZVVzZXIoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdXNlciBpZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAudXBkYXRlKHVzZXJzVGFibGUpXG4gICAgICAgICAgICAgICAgLnNldChkYXRhKVxuICAgICAgICAgICAgICAgIC53aGVyZShlcSh1c2Vyc1RhYmxlLmlkLCBkYXRhLmlkKSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZVNlc3Npb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZShzZXNzaW9uc1RhYmxlKVxuICAgICAgICAgICAgICAgIC5zZXQoZGF0YSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoc2Vzc2lvbnNUYWJsZS5zZXNzaW9uVG9rZW4sIGRhdGEuc2Vzc2lvblRva2VuKSlcbiAgICAgICAgICAgICAgICAucmV0dXJuaW5nKClcbiAgICAgICAgICAgICAgICAuZ2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8/IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGxpbmtBY2NvdW50KGRhdGEpIHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5pbnNlcnQoYWNjb3VudHNUYWJsZSkudmFsdWVzKGRhdGEpLnJ1bigpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRVc2VyQnlBY2NvdW50KGFjY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudFxuICAgICAgICAgICAgICAgIC5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnRzVGFibGUsXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcnNUYWJsZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZyb20oYWNjb3VudHNUYWJsZSlcbiAgICAgICAgICAgICAgICAuaW5uZXJKb2luKHVzZXJzVGFibGUsIGVxKGFjY291bnRzVGFibGUudXNlcklkLCB1c2Vyc1RhYmxlLmlkKSlcbiAgICAgICAgICAgICAgICAud2hlcmUoYW5kKGVxKGFjY291bnRzVGFibGUucHJvdmlkZXIsIGFjY291bnQucHJvdmlkZXIpLCBlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyQWNjb3VudElkLCBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkKSkpXG4gICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdD8udXNlciA/PyBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGRlbGV0ZVNlc3Npb24oc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuZGVsZXRlKHNlc3Npb25zVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKHNlc3Npb25zVGFibGUuc2Vzc2lvblRva2VuLCBzZXNzaW9uVG9rZW4pKVxuICAgICAgICAgICAgICAgIC5ydW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5pbnNlcnQodmVyaWZpY2F0aW9uVG9rZW5zVGFibGUpXG4gICAgICAgICAgICAgICAgLnZhbHVlcyhkYXRhKVxuICAgICAgICAgICAgICAgIC5yZXR1cm5pbmcoKVxuICAgICAgICAgICAgICAgIC5nZXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXNlVmVyaWZpY2F0aW9uVG9rZW4ocGFyYW1zKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuZGVsZXRlKHZlcmlmaWNhdGlvblRva2Vuc1RhYmxlKVxuICAgICAgICAgICAgICAgIC53aGVyZShhbmQoZXEodmVyaWZpY2F0aW9uVG9rZW5zVGFibGUuaWRlbnRpZmllciwgcGFyYW1zLmlkZW50aWZpZXIpLCBlcSh2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZS50b2tlbiwgcGFyYW1zLnRva2VuKSkpXG4gICAgICAgICAgICAgICAgLnJldHVybmluZygpXG4gICAgICAgICAgICAgICAgLmdldCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA/PyBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBkZWxldGVVc2VyKGlkKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnQuZGVsZXRlKHVzZXJzVGFibGUpLndoZXJlKGVxKHVzZXJzVGFibGUuaWQsIGlkKSkucnVuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVubGlua0FjY291bnQocGFyYW1zKSB7XG4gICAgICAgICAgICBhd2FpdCBjbGllbnRcbiAgICAgICAgICAgICAgICAuZGVsZXRlKGFjY291bnRzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGFuZChlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyLCBwYXJhbXMucHJvdmlkZXIpLCBlcShhY2NvdW50c1RhYmxlLnByb3ZpZGVyQWNjb3VudElkLCBwYXJhbXMucHJvdmlkZXJBY2NvdW50SWQpKSlcbiAgICAgICAgICAgICAgICAucnVuKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldEFjY291bnQocHJvdmlkZXJBY2NvdW50SWQsIHByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYWNjb3VudHNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoYW5kKGVxKGFjY291bnRzVGFibGUucHJvdmlkZXIsIHByb3ZpZGVyKSwgZXEoYWNjb3VudHNUYWJsZS5wcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXJBY2NvdW50SWQpKSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXNbMF0gPz8gbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZUF1dGhlbnRpY2F0b3IoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5pbnNlcnQoYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAudmFsdWVzKGRhdGEpXG4gICAgICAgICAgICAgICAgLnJldHVybmluZygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzWzBdID8/IG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRBdXRoZW50aWNhdG9yKGNyZWRlbnRpYWxJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgICAgIC5mcm9tKGF1dGhlbnRpY2F0b3JzVGFibGUpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKGF1dGhlbnRpY2F0b3JzVGFibGUuY3JlZGVudGlhbElELCBjcmVkZW50aWFsSUQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlc1swXSA/PyBudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgbGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQodXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50XG4gICAgICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAgICAgLmZyb20oYXV0aGVudGljYXRvcnNUYWJsZSlcbiAgICAgICAgICAgICAgICAud2hlcmUoZXEoYXV0aGVudGljYXRvcnNUYWJsZS51c2VySWQsIHVzZXJJZCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXBkYXRlQXV0aGVudGljYXRvckNvdW50ZXIoY3JlZGVudGlhbElELCBuZXdDb3VudGVyKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoZW50aWNhdG9yID0gYXdhaXQgY2xpZW50XG4gICAgICAgICAgICAgICAgLnVwZGF0ZShhdXRoZW50aWNhdG9yc1RhYmxlKVxuICAgICAgICAgICAgICAgIC5zZXQoeyBjb3VudGVyOiBuZXdDb3VudGVyIH0pXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKGF1dGhlbnRpY2F0b3JzVGFibGUuY3JlZGVudGlhbElELCBjcmVkZW50aWFsSUQpKVxuICAgICAgICAgICAgICAgIC5yZXR1cm5pbmcoKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlc1swXSk7XG4gICAgICAgICAgICBpZiAoIWF1dGhlbnRpY2F0b3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXV0aGVudGljYXRvciBub3QgZm91bmQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0b3I7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJhbmQiLCJlcSIsImdldFRhYmxlQ29sdW1ucyIsImludGVnZXIiLCJwcmltYXJ5S2V5Iiwic3FsaXRlVGFibGUiLCJ0ZXh0IiwiZGVmaW5lVGFibGVzIiwic2NoZW1hIiwidXNlcnNUYWJsZSIsImlkIiwiJGRlZmF1bHRGbiIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJlbWFpbFZlcmlmaWVkIiwibW9kZSIsImltYWdlIiwiYWNjb3VudHNUYWJsZSIsInVzZXJJZCIsIm5vdE51bGwiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJ0eXBlIiwiJHR5cGUiLCJwcm92aWRlciIsInByb3ZpZGVyQWNjb3VudElkIiwicmVmcmVzaF90b2tlbiIsImFjY2Vzc190b2tlbiIsImV4cGlyZXNfYXQiLCJ0b2tlbl90eXBlIiwic2NvcGUiLCJpZF90b2tlbiIsInNlc3Npb25fc3RhdGUiLCJhY2NvdW50IiwiY29tcG9zaXRlUGsiLCJjb2x1bW5zIiwic2Vzc2lvbnNUYWJsZSIsInNlc3Npb25Ub2tlbiIsImV4cGlyZXMiLCJ2ZXJpZmljYXRpb25Ub2tlbnNUYWJsZSIsImlkZW50aWZpZXIiLCJ0b2tlbiIsInZlcmZpY2F0aW9uVG9rZW4iLCJhdXRoZW50aWNhdG9yc1RhYmxlIiwiY3JlZGVudGlhbElEIiwiY3JlZGVudGlhbFB1YmxpY0tleSIsImNvdW50ZXIiLCJjcmVkZW50aWFsRGV2aWNlVHlwZSIsImNyZWRlbnRpYWxCYWNrZWRVcCIsInRyYW5zcG9ydHMiLCJhdXRoZW50aWNhdG9yIiwiY29tcG9zaXRlUEsiLCJTUUxpdGVEcml6emxlQWRhcHRlciIsImNsaWVudCIsImNyZWF0ZVVzZXIiLCJkYXRhIiwiaW5zZXJ0RGF0YSIsImhhc0RlZmF1bHRJZCIsImluc2VydCIsInZhbHVlcyIsInJldHVybmluZyIsImdldCIsImdldFVzZXIiLCJyZXN1bHQiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJnZXRVc2VyQnlFbWFpbCIsImNyZWF0ZVNlc3Npb24iLCJnZXRTZXNzaW9uQW5kVXNlciIsInNlc3Npb24iLCJ1c2VyIiwiaW5uZXJKb2luIiwidXBkYXRlVXNlciIsIkVycm9yIiwidXBkYXRlIiwic2V0IiwidXBkYXRlU2Vzc2lvbiIsImxpbmtBY2NvdW50IiwicnVuIiwiZ2V0VXNlckJ5QWNjb3VudCIsImRlbGV0ZVNlc3Npb24iLCJkZWxldGUiLCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlbiIsInVzZVZlcmlmaWNhdGlvblRva2VuIiwicGFyYW1zIiwiZGVsZXRlVXNlciIsInVubGlua0FjY291bnQiLCJnZXRBY2NvdW50IiwidGhlbiIsInJlcyIsImNyZWF0ZUF1dGhlbnRpY2F0b3IiLCJnZXRBdXRoZW50aWNhdG9yIiwibGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQiLCJ1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlciIsIm5ld0NvdW50ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/drizzle-adapter/lib/sqlite.js\n");

/***/ })

};
;